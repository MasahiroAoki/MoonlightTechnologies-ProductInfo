# Copyright 2025 Moonlight Technologies Inc.. All Rights Reserved.
# Auth Masahiro Aoki


# EvoSpikeNet Dashboard ユーザーマニュアル

**最終更新日:** 2025年10月17日

## 1. はじめに

このドキュメントは、`EvoSpikeNet Dashboard`の各機能の使用方法と、その背後にある技術的な実装について解説します。このダッシュボードは、EvoSpikeNetフレームワークの様々な機能をブラウザからインタラクティブに実行し、可視化するためのツールです。

## 2. セットアップと起動

本プロジェクトはDocker Composeを全面的に採用しており、アプリケーションと必要なサービス（Milvusデータベース）を一度に起動できます。

### 2.1. 前提条件
- Docker
- Docker Compose (v2以降)
- (GPU利用の場合) NVIDIA Container Toolkit

### 2.2. 起動方法
プロジェクトのルートディレクトリで、まず以下のコマンドを実行してDockerイメージをビルドします。
```bash
docker compose build
```
その後、以下のスクリプトを実行してWeb UIと関連サービスを起動します。

```bash
# GPUモードで起動する場合
./scripts/run_frontend_gpu.sh

# CPUモードで起動する場合
./scripts/run_frontend_cpu.sh
```
これにより、`http://localhost:8050`でダッシュボードが利用可能になります。

## 3. 主要インターフェース

ダッシュボードは、単一のアプリケーション内に複数のページを持つ構造にリファクタリングされました。各ページへは、画面上部のナビゲーションバーからアクセスできます。

- **Home:** このユーザーマニュアルを表示するデフォルトページです。
- **SNN Data Creation:** 4層SNNモデル用のサンプルスパイクデータを生成します。
- **Model & Spike Visualization:** SNNの発火活動（ラスタプロット）やモデル構造（グラフ）を可視化します。
- **EvoSpikeNetLM:** 標準的な言語モデルの訓練と推論（プロンプト実行）を行います。
- **SpikingEvoSpikeNetLM:** スパイクベースの言語モデルの訓練、推論、および内部状態（スパイクやアテンション）の可視化を行います。
- **RAG System:** RAG（検索拡張生成）システムの管理と対話を行います。知識ベースへのデータ追加や編集と、クエリに基づいた検索・応答生成が可能です。
    - **Queryタブ:** ユーザーからのクエリに対し、Milvusから関連性の高い情報を検索し、その情報をコンテキストとしてLLMが最終的な回答を生成します。
    - **Data CURDタブ:** 知識ベース内のドキュメントを管理します。
        - **作成 (Create):** 「Add Row」ボタンで行をテーブルに追加できます。
        - **読み取り (Read):** タブを開くと、Milvusに保存されている全データがテーブルに表示されます。
        - **更新 (Update):** テーブルのセルを直接編集することで、データを更新できます。
        - **削除 (Delete):** テーブルで行を選択し、「Delete Selected Row」ボタンで削除できます。
- **Multi-Modal LM:** 画像とテキストを扱うマルチモーダルモデルの訓練と推論を行います。
- **Text Classifier:** テキスト分類モデルの訓練と推論を行います。
- **System Utilities:** テストスイートの実行やデータ蒸留など、システム管理用のコマンドを実行します。

---

## 4. 機能別 詳細解説

### 4.1. RAG System (RAGシステム)
- **目的:** Milvusデータベースを知識ベースとして利用するRAGシステムの対話とデータ管理を行います。
- **機能:**
    - **RAG Queryタブ:** ユーザーからのクエリに対し、Milvusから関連性の高い情報を検索し、その情報をコンテキストとしてLLM（OpenAI, Hugging Face, Grokから選択可能）が最終的な回答を生成します。
    - **Data CURDタブ:** 知識ベース内のドキュメントをテーブル形式で表示します。このインターフェースを通じて、データの追加（Create）、読み取り（Read）、更新（Update）、削除（Delete）が可能です。テーブルは編集可能で、変更は即座にデータベースに反映されます。

### 4.2. Standard SNN Simulation (標準SNNシミュレーション)
- **目的:** 基本的なLIFニューロンとスパースなシナプス接続で構成される、コアなSNNモデルの動作をシミュレートします。
- **出力:** 出力層ニューロンの発火活動を示すラスタプロット。

### 4.3. Entangled Synchrony Layer (量子インスパイアード同期レイヤー)
- **目的:** 量子もつれに着想を得た特殊なレイヤーの動作を検証します。
- **出力:** 生成された同期スパイクのパターンを示すヒートマップ。

### 4.4. Hardware Fitness Evaluator (ハードウェア適応度評価)
- **目的:** 消費電力や温度などのハードウェア指標を考慮した「適応度」を計算する評価関数の動作をデモします。
- **出力:** 計算された単一の適応度スコア。

### 4.5. Text Classification (テキスト分類)
- **目的:** 訓練済みの`SpikingTransformerClassifier`モデルを使い、入力された文章の感情をリアルタイムで分類します。
- **出力:** 予測された感情ラベルと確信度。

### 4.6. LM Training (Advanced) (LM訓練 - 高度)
- **目的:** `EvoSpikeNetLM`言語モデルを、Wikipediaや青空文庫などの様々なデータソースから柔軟に訓練します。
- **論理的実装:** `subprocess.Popen`により非同期で訓練スクリプトを実行し、`dcc.Interval`で定期的にログファイルをポーリングして進捗をリアルタイム表示します。


---

## 5. 各ページの機能詳細

各ページの機能は、以前のUIの各タブや機能を再編成したものです。例えば、「System Utilities」ページには、以前の「System & Data」タブにあったコマンド実行機能（テスト実行、データ蒸留など）が含まれています。各ページの具体的な操作は、UI上の説明に従ってください。

---
(以降のセクションは`README.md`と同様のため省略)